"use strict";(self.webpackChunkproyecto_tfg=self.webpackChunkproyecto_tfg||[]).push([[173],{643:function(e,a,t){var o=t(8081),s=t.n(o),r=t(3645),l=t.n(r)()(s());l.push([e.id,".h1[data-v-1b446e2b]{font-family:abeezeeregular;color:var(--bs-blue);font-size:25px;margin-bottom:10px}.img[data-v-1b446e2b]{background-size:cover}.default[data-v-1b446e2b]{--bs-btn-color: #9421f3;--bs-btn-border-color: #9421f3;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #9421f3;--bs-btn-hover-border-color: #9421f3;--bs-btn-focus-shadow-rgb: 148, 33, 243;--bs-btn-active-color: #fff;--bs-btn-active-bg: #9421f3;--bs-btn-active-border-color: #9421f3;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #9421f3;--bs-btn-disabled-bg: transparent;--bs-gradient: none}.disney[data-v-1b446e2b]{--bs-btn-color: #171391;--bs-btn-border-color: #171391;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #171391;--bs-btn-hover-border-color: #171391;--bs-btn-focus-shadow-rgb: 23, 19, 145;--bs-btn-active-color: #fff;--bs-btn-active-bg: #171391;--bs-btn-active-border-color: #171391;--bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color: #171391;--bs-btn-disabled-bg: transparent;--bs-gradient: none}",""]),a.Z=l},4697:function(e,a,t){var o=t(8081),s=t.n(o),r=t(3645),l=t.n(r)()(s());l.push([e.id,".col-3[data-v-14d8aa36]{margin-top:20px;margin-bottom:20px;margin-right:20px;font-family:montserratbold;border-radius:20px;box-shadow:0px 0px 5px var(--bs-gray-400);border-style:none}.card-img-top[data-v-14d8aa36]{border-radius:20px;border-bottom-right-radius:0px;border-bottom-left-radius:0px}",""]),a.Z=l},9970:function(e,a,t){t.r(a),t.d(a,{default:function(){return he}});var o=t(6252),s=t(3577);const r={class:"Programas"},l={key:0,class:"card-group",style:{"justify-content":"space-evenly"}},i=["src"],n={class:"card-body",style:{margin:"10px"}},c={class:"card-title"},p={key:1,class:"card-group",style:{"justify-content":"space-evenly"}},d={key:2,class:"card-group",style:{"justify-content":"space-evenly"}},b={key:3,class:"card-group",style:{"justify-content":"space-evenly"}},g=["src"],m={class:"card-body",style:{margin:"10px"}},u={class:"card-title"},h={style:{"font-family":"abeezeeregular"}},f={class:"btn-group col-md-2 offset-md-5"},y=["onClick"];var v=t(7061),k=t(2712),_=t(9963),w=t(5673),x=t(5627),D=t(6803),P=t(1828);const S=e=>((0,o.dD)("data-v-1b446e2b"),e=e(),(0,o.Cn)(),e),C={class:"Filtros"},F={class:"container"},Z={class:"row",style:{"justify-content":"space-evenly"}},j={class:"col-2",style:{"font-family":"abeezeeregular"}},A=S((()=>(0,o._)("h1",{class:"h1"},[(0,o._)("strong",null,"Tipo:")],-1))),M={class:"form-check form-switch"},U=S((()=>(0,o._)("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Serie",-1))),Y={class:"form-check form-switch"},z=S((()=>(0,o._)("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Película",-1))),V={class:"col",style:{"font-family":"abeezeeregular"}},H=S((()=>(0,o._)("h1",{class:"h1"},[(0,o._)("strong",null,"Géneros:")],-1))),I=["value"],N={class:"col"},T=S((()=>(0,o._)("h1",{class:"h1"},[(0,o._)("strong",null,"Plataformas:")],-1))),R={class:"btn-group",role:"group"},E=S((()=>(0,o._)("label",{class:"btn btn-outline-danger",for:"Netflix"},[(0,o._)("img",{class:"img",src:w.Z})],-1))),L=S((()=>(0,o._)("label",{class:"btn btn-outline-primary",for:"Amazon Prime Video"},[(0,o._)("img",{class:"img",src:x.Z})],-1))),O=S((()=>(0,o._)("label",{class:"btn default",for:"HBO"},[(0,o._)("img",{class:"img",src:D.Z})],-1))),W=S((()=>(0,o._)("label",{class:"btn disney",for:"Disney"},[(0,o._)("img",{class:"img",src:P.Z})],-1))),K={class:"row"};var B={data:()=>({baseURL:"https://whattowatch-app.herokuapp.com",tipo:[],allgeneros:[],generos:[],plataformas:[],filtrados:[]}),created(){this.getGeneros()},methods:{getGeneros(){console.log("ENTRA AQUÍ"),fetch(this.baseURL+"/programas/generos",{headers:{Authorization:sessionStorage.getItem("token"),Accept:"application/json","Content-type":"application/json"}}).then((e=>e.json())).then((e=>{this.allgeneros=e}))},async filtrarProgramas(){let e=await fetch(this.baseURL+"/programas/filtrados",{method:"POST",headers:{Authorization:sessionStorage.getItem("token"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({tipo:this.tipo,generos:this.generos,plataformas:this.plataformas})}),a=await e.json();this.filtrados=a,this.$emit("escucharFiltros",this.filtrados)}}},G=t(3379),$=t.n(G),q=t(7795),J=t.n(q),Q=t(569),X=t.n(Q),ee=t(3565),ae=t.n(ee),te=t(9216),oe=t.n(te),se=t(4589),re=t.n(se),le=t(643),ie={};ie.styleTagTransform=re(),ie.setAttributes=ae(),ie.insert=X().bind(null,"head"),ie.domAPI=J(),ie.insertStyleElement=oe(),$()(le.Z,ie),le.Z&&le.Z.locals&&le.Z.locals;var ne=t(3744),ce=(0,ne.Z)(B,[["render",function(e,a,t,r,l,i){return(0,o.wg)(),(0,o.iD)("div",C,[(0,o._)("div",F,[(0,o._)("form",{onSubmit:a[8]||(a[8]=(0,_.withModifiers)((()=>{}),["prevent"]))},[(0,o._)("div",Z,[(0,o._)("div",j,[A,(0,o._)("div",M,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"","onUpdate:modelValue":a[0]||(a[0]=e=>l.tipo=e),value:"Serie"},null,512),[[_.vModelCheckbox,l.tipo]]),U]),(0,o._)("div",Y,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"","onUpdate:modelValue":a[1]||(a[1]=e=>l.tipo=e),value:"Película"},null,512),[[_.vModelCheckbox,l.tipo]]),z])]),(0,o._)("div",V,[H,(0,o.wy)((0,o._)("select",{class:"form-select",multiple:"","onUpdate:modelValue":a[2]||(a[2]=e=>l.generos=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.allgeneros,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e,value:e},(0,s.toDisplayString)(e),9,I)))),128))],512),[[_.vModelSelect,l.generos]])]),(0,o._)("div",N,[T,(0,o._)("div",R,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"btn-check",id:"Netflix",value:"Netflix",autocomplete:"off","onUpdate:modelValue":a[3]||(a[3]=e=>l.plataformas=e)},null,512),[[_.vModelCheckbox,l.plataformas]]),E,(0,o.wy)((0,o._)("input",{type:"checkbox",class:"btn-check",id:"Amazon Prime Video",value:"Amazon Prime Video",autocomplete:"off","onUpdate:modelValue":a[4]||(a[4]=e=>l.plataformas=e)},null,512),[[_.vModelCheckbox,l.plataformas]]),L,(0,o.wy)((0,o._)("input",{type:"checkbox",class:"btn-check",id:"HBO",value:"HBO",autocomplete:"off","onUpdate:modelValue":a[5]||(a[5]=e=>l.plataformas=e)},null,512),[[_.vModelCheckbox,l.plataformas]]),O,(0,o.wy)((0,o._)("input",{type:"checkbox",class:"btn-check",id:"Disney",value:"Disney",autocomplete:"off","onUpdate:modelValue":a[6]||(a[6]=e=>l.plataformas=e)},null,512),[[_.vModelCheckbox,l.plataformas]]),W])])]),(0,o._)("div",K,[(0,o._)("button",{style:{"margin-top":"15px"},class:"btn btn-primary btn-lg btn-block",onClick:a[7]||(a[7]=e=>i.filtrarProgramas())},"Filtrar")])],32)])])}],["__scopeId","data-v-1b446e2b"]]),pe=t(381),de=t.n(pe);class be{constructor(e,a,t,o,s){this._id=e,this.tipo=a,this.titulo=t,this.fecha=o,this.imagen=s}}var ge={data:()=>({programa:new be,programas:[],baseURL:"https://whattowatch-app.herokuapp.com",page:1,perPage:21,pages:[],programasFiltrados:[],buscados:[]}),created(){this.getProgramas()},methods:{getProgramas(){fetch(this.baseURL+"/programas/all",{headers:{Authorization:sessionStorage.getItem("token")}}).then((e=>e.json())).then((e=>{this.programas=e}))},moment:de(),setProgramas(e){let a=Math.ceil(e.length/this.perPage);for(let e=1;e<=a;e++)this.pages.push(e)},paginate(e){let a=this.page,t=this.perPage,o=a*t-t,s=a*t;return e.slice(o,s)},filtrados(e){this.programasFiltrados=e}},components:{Navbar:v.Z,Footer:k.Z,Filtros:ce},watch:{programas(){this.setProgramas(this.programas)},programasF(){this.setProgramas(this.programasFiltrados)}},computed:{displayedProgramas:function(){return this.paginate(this.programas)},displayedProgramasF:function(){return this.paginate(this.programasFiltrados)}}},me=t(4697),ue={};ue.styleTagTransform=re(),ue.setAttributes=ae(),ue.insert=X().bind(null,"head"),ue.domAPI=J(),ue.insertStyleElement=oe(),$()(me.Z,ue),me.Z&&me.Z.locals&&me.Z.locals;var he=(0,ne.Z)(ge,[["render",function(e,a,t,v,k,_){const w=(0,o.up)("Navbar"),x=(0,o.up)("Filtros"),D=(0,o.up)("router-link"),P=(0,o.up)("Footer");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(w),(0,o._)("div",r,[(0,o.Wm)(x,{onEscucharFiltros:_.filtrados,style:{"margin-top":"10%"}},null,8,["onEscucharFiltros"]),0==k.programasFiltrados.length?((0,o.wg)(),(0,o.iD)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(_.displayedProgramas,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-3",key:e._id},[(0,o.Wm)(D,{to:`/programa/${e._id}`},{default:(0,o.w5)((()=>[(0,o._)("img",{class:"card-img-top w-100 d-block",src:e.imagen||"placeholder.png"},null,8,i)])),_:2},1032,["to"]),(0,o._)("div",n,[(0,o._)("h4",c,(0,s.toDisplayString)(e.titulo),1),(0,o._)("small",null,(0,s.toDisplayString)(_.moment(e.fecha).locale("es").format("D MMM YYYY")),1)])])))),128))])):k.programas.mensaje?((0,o.wg)(),(0,o.iD)("div",p,(0,s.toDisplayString)(k.programas.mensaje),1)):k.programasFiltrados.mensaje?((0,o.wg)(),(0,o.iD)("div",d,(0,s.toDisplayString)(k.programasFiltrados.mensaje),1)):((0,o.wg)(),(0,o.iD)("div",b,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(_.displayedProgramasF,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-3",key:e._id},[(0,o.Wm)(D,{to:`/programa/${e._id}`},{default:(0,o.w5)((()=>[(0,o._)("img",{class:"card-img-top w-100 d-block",src:e.imagen||"placeholder.png"},null,8,g)])),_:2},1032,["to"]),(0,o._)("div",m,[(0,o._)("h4",u,(0,s.toDisplayString)(e.titulo),1),(0,o._)("small",h,(0,s.toDisplayString)(_.moment(e.fecha).locale("es").format("D MMM YYYY")),1)])])))),128))])),(0,o._)("div",f,[1!=k.page?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"btn btn-sm btn-outline-secondary",onClick:a[0]||(a[0]=e=>k.page--)},"Anterior")):(0,o.kq)("v-if",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(k.pages.slice(k.page-1,k.page+5),(e=>((0,o.wg)(),(0,o.iD)("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:a=>k.page=e,key:e},(0,s.toDisplayString)(e),9,y)))),128)),k.page<k.pages.length?((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",onClick:a[1]||(a[1]=e=>k.page++),class:"btn btn-sm btn-outline-secondary"},"Siguiente")):(0,o.kq)("v-if",!0)])]),(0,o.Wm)(P)],64)}],["__scopeId","data-v-14d8aa36"]])}}]);